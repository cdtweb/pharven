#!/usr/bin/env php
<?php

// Find vendor dir
$cwd = getcwd() . DIRECTORY_SEPARATOR;
$vendorDir = $cwd . 'vendor';

if(is_dir($vendorDir) === false){
    die('Could not find vendor directory: '.$vendorDir);
}

// Find pharven.json
$pharvenJsonFile = $cwd . 'pharven.$pharvenJsonFile';
$pharvenJson = is_file($pharvenJsonFile) ? json_decode(file_get_contents($pharvenJsonFile), true) : [];

/** @noinspection PhpIncludeInspection */
require_once getcwd() . DIRECTORY_SEPARATOR . 'vendor' . DIRECTORY_SEPARATOR . 'autoload.php';
/** @noinspection PhpUnhandledExceptionInspection */
$pharven = new \Pharven\Pharven($vendorDir, $pharvenJson);
/** @noinspection PhpUnhandledExceptionInspection */
$pharven->makePhar();
